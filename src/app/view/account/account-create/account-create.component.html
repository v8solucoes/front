<div *ngIf="loading">

  <section>
    <app-form-group
    [form]="data.form[data.requestLast.document]"
    [permission]="data.local.getRecursive(data.requestLast.document).permission"
    [model]="data.local.getRecursive(data.requestLast.document).model"
    [request]="data.requestLast"
  ></app-form-group>
  
    <!-- INVALID - disabled -->
    <button *ngIf=" data.form[data.requestLast.document].valid && data.form[data.requestLast.document].get([data.requestLast.document,'acceptTerms'])?.value ? false: true"
    type="submit" mat-raised-button color="primary" disabled>
    <div *ngIf="processing" class="processing">
      <mat-spinner class="spinner" [diameter]="20"></mat-spinner>
      <mat-label>Processing</mat-label>
    </div>
    
    <mat-label>Create New AccountS</mat-label>
  </button>
    <!-- VALID -->
    <button type="submit" mat-raised-button class="color-sucess"
    (click)="createAccount()"
      *ngIf="valid && data.form[data.requestLast.document].valid && data.form[data.requestLast.document].get([data.requestLast.document,'acceptTerms'])?.value">
      <mat-label>Create New Account</mat-label> 
    </button>
    <button type="submit" mat-raised-button class="color-sucess"
    (click)="googleAuth()"
      *ngIf="valid && data.form[data.requestLast.document].valid && data.form[data.requestLast.document].get([data.requestLast.document,'acceptTerms'])?.value">
      <mat-label>Google</mat-label> 
    </button>
  <!-- Processing -->
    <button *ngIf="processing && !sucess && data.form[data.requestLast.document].valid && data.form[data.requestLast.document].get([data.requestLast.document,'acceptTerms'])?.value"
      type="submit" mat-raised-button >
      <div class="processing">
        <mat-spinner class="spinner" [diameter]="20"></mat-spinner>
        <mat-label>Processing</mat-label>
      </div>
    </button>
     <!-- SUCESS -->
     <button type="submit" mat-raised-button class="color-sucess"
       *ngIf="sucess">
       <mat-label>Create Sucess!</mat-label> 
     </button>
          <!-- Sign IN -->
     <button type="submit" mat-raised-button class="color-sucess"
       routerLink="../../../login/sign-in">
       <mat-label>Sign In</mat-label> 
     </button>

  </section>

</div>